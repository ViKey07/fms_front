{"ast":null,"code":"import API from \"../../API\";\nimport { signInAction, signUpAction, signOutAction } from \"./actions\";\nimport { push } from \"connected-react-router\";\nconst api = new API();\nconst LOGIN_USER_KEY = \"LOGIN_USER_KEY\";\nexport const fetchUserFromLocalStorage = () => {\n  return async dispatch => {\n    const userJSON = localStorage.getItem(LOGIN_USER_KEY);\n    if (userJSON && userJSON.token !== \"\") {\n      dispatch(signInAction(JSON.parse(userJSON)));\n    }\n  };\n};\nexport const signUp = (user_name, email, password) => {\n  return async dispatch => {\n    // Validation\n    if (user_name === \"\" || email === \"\" || password === \"\") {\n      alert(\"Please fill out name, email, and password.\");\n      return false;\n    }\n    return api.signUp(user_name, email, password).then(user => {\n      dispatch(signUpAction(user));\n      localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(user));\n      dispatch(push(\"/\"));\n    }).catch(error => {\n      alert(\"Failed to connect API to add a post\");\n      console.log(error);\n    });\n  };\n};\nexport const signIn = (email, password) => {\n  return async dispatch => {\n    // Validation\n    if (email === \"\" || password === \"\") {\n      alert(\"Please fill out email and password.\");\n      return false;\n    }\n    return api.signIn(email, password).then(user => {\n      dispatch(signInAction(user));\n      localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(user));\n      dispatch(push(\"/\"));\n    }).catch(error => {\n      alert(\"Failed to connect API to add a post\");\n      console.log(error);\n    });\n  };\n};\nexport const signOut = () => {\n  return async dispatch => {\n    dispatch(signOutAction());\n    localStorage.removeItem(LOGIN_USER_KEY);\n    dispatch(push(\"/signin\"));\n  };\n};","map":{"version":3,"names":["API","signInAction","signUpAction","signOutAction","push","api","LOGIN_USER_KEY","fetchUserFromLocalStorage","dispatch","userJSON","localStorage","getItem","token","JSON","parse","signUp","user_name","email","password","alert","then","user","setItem","stringify","catch","error","console","log","signIn","signOut","removeItem"],"sources":["C:/Users/vedk4/OneDrive/Desktop/frontend_ref/Cool-Tees/src/reducks/users/operations.js"],"sourcesContent":["import API from \"../../API\";\r\nimport { signInAction, signUpAction, signOutAction } from \"./actions\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nconst api = new API();\r\nconst LOGIN_USER_KEY = \"LOGIN_USER_KEY\";\r\n\r\nexport const fetchUserFromLocalStorage = () => {\r\n  return async (dispatch) => {\r\n    const userJSON = localStorage.getItem(LOGIN_USER_KEY);\r\n    if (userJSON && userJSON.token !== \"\") {\r\n      dispatch(signInAction(JSON.parse(userJSON)));\r\n    }\r\n  };\r\n};\r\n\r\nexport const signUp = (user_name, email, password) => {\r\n  return async (dispatch) => {\r\n    // Validation\r\n    if (user_name === \"\" || email === \"\" || password === \"\") {\r\n      alert(\"Please fill out name, email, and password.\");\r\n      return false;\r\n    }\r\n\r\n    return api\r\n      .signUp(user_name, email, password)\r\n      .then((user) => {\r\n        dispatch(signUpAction(user));\r\n        localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(user));\r\n        dispatch(push(\"/\"));\r\n      })\r\n      .catch((error) => {\r\n        alert(\"Failed to connect API to add a post\");\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\nexport const signIn = (email, password) => {\r\n  return async (dispatch) => {\r\n    // Validation\r\n    if (email === \"\" || password === \"\") {\r\n      alert(\"Please fill out email and password.\");\r\n      return false;\r\n    }\r\n\r\n    return api\r\n      .signIn(email, password)\r\n      .then((user) => {\r\n        dispatch(signInAction(user));\r\n        localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(user));\r\n        dispatch(push(\"/\"));\r\n      })\r\n      .catch((error) => {\r\n        alert(\"Failed to connect API to add a post\");\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return async (dispatch) => {\r\n    dispatch(signOutAction());\r\n    localStorage.removeItem(LOGIN_USER_KEY);\r\n    dispatch(push(\"/signin\"));\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,WAAW;AAC3B,SAASC,YAAY,EAAEC,YAAY,EAAEC,aAAa,QAAQ,WAAW;AACrE,SAASC,IAAI,QAAQ,wBAAwB;AAE7C,MAAMC,GAAG,GAAG,IAAIL,GAAG,EAAE;AACrB,MAAMM,cAAc,GAAG,gBAAgB;AAEvC,OAAO,MAAMC,yBAAyB,GAAG,MAAM;EAC7C,OAAO,MAAOC,QAAQ,IAAK;IACzB,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAACL,cAAc,CAAC;IACrD,IAAIG,QAAQ,IAAIA,QAAQ,CAACG,KAAK,KAAK,EAAE,EAAE;MACrCJ,QAAQ,CAACP,YAAY,CAACY,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC,CAAC,CAAC;IAC9C;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAMM,MAAM,GAAG,CAACC,SAAS,EAAEC,KAAK,EAAEC,QAAQ,KAAK;EACpD,OAAO,MAAOV,QAAQ,IAAK;IACzB;IACA,IAAIQ,SAAS,KAAK,EAAE,IAAIC,KAAK,KAAK,EAAE,IAAIC,QAAQ,KAAK,EAAE,EAAE;MACvDC,KAAK,CAAC,4CAA4C,CAAC;MACnD,OAAO,KAAK;IACd;IAEA,OAAOd,GAAG,CACPU,MAAM,CAACC,SAAS,EAAEC,KAAK,EAAEC,QAAQ,CAAC,CAClCE,IAAI,CAAEC,IAAI,IAAK;MACdb,QAAQ,CAACN,YAAY,CAACmB,IAAI,CAAC,CAAC;MAC5BX,YAAY,CAACY,OAAO,CAAChB,cAAc,EAAEO,IAAI,CAACU,SAAS,CAACF,IAAI,CAAC,CAAC;MAC1Db,QAAQ,CAACJ,IAAI,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC,CAAC,CACDoB,KAAK,CAAEC,KAAK,IAAK;MAChBN,KAAK,CAAC,qCAAqC,CAAC;MAC5CO,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;AACH,CAAC;AAED,OAAO,MAAMG,MAAM,GAAG,CAACX,KAAK,EAAEC,QAAQ,KAAK;EACzC,OAAO,MAAOV,QAAQ,IAAK;IACzB;IACA,IAAIS,KAAK,KAAK,EAAE,IAAIC,QAAQ,KAAK,EAAE,EAAE;MACnCC,KAAK,CAAC,qCAAqC,CAAC;MAC5C,OAAO,KAAK;IACd;IAEA,OAAOd,GAAG,CACPuB,MAAM,CAACX,KAAK,EAAEC,QAAQ,CAAC,CACvBE,IAAI,CAAEC,IAAI,IAAK;MACdb,QAAQ,CAACP,YAAY,CAACoB,IAAI,CAAC,CAAC;MAC5BX,YAAY,CAACY,OAAO,CAAChB,cAAc,EAAEO,IAAI,CAACU,SAAS,CAACF,IAAI,CAAC,CAAC;MAC1Db,QAAQ,CAACJ,IAAI,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC,CAAC,CACDoB,KAAK,CAAEC,KAAK,IAAK;MAChBN,KAAK,CAAC,qCAAqC,CAAC;MAC5CO,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;AACH,CAAC;AAED,OAAO,MAAMI,OAAO,GAAG,MAAM;EAC3B,OAAO,MAAOrB,QAAQ,IAAK;IACzBA,QAAQ,CAACL,aAAa,EAAE,CAAC;IACzBO,YAAY,CAACoB,UAAU,CAACxB,cAAc,CAAC;IACvCE,QAAQ,CAACJ,IAAI,CAAC,SAAS,CAAC,CAAC;EAC3B,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}